{% schema %}
{
  "name": "Mobility Mastery",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "top_left_image",
      "label": "Top Left Image"
    },
    {
      "type": "inline_richtext",
      "id": "main_title",
      "label": "Main Title",
      "default": "12 Week 1:1 Mobility Mastery"
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Text and Button",
      "settings": [
        {
          "type": "text",
          "id": "title_text",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "text_content",
          "label": "Information Text"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Apply To Work With Me 1:1"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    },
    {
      "type": "information",
      "name": "Information",
      "settings": [
        {
          "type": "richtext",
          "id": "info_content",
          "label": "Information Content"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "column_image",
          "label": "Column Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mobility Program",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="akr-container" 
     style="
        {% if section.settings.background_image %}
        background-image: url({{ section.settings.background_image | img_url: 'master' }});
        {% else %}
        background-color: #f5f5f5; /* Default fallback color */
        {% endif %}
        background-size: cover;
        background-position: center center;">
    <div class="akr-title-container">
        {% if section.settings.top_left_image %}
            <div class="akr-top-left-image">
                <img src="{{ section.settings.top_left_image | img_url: 'master' }}" alt="Top Left Image">
            </div>
        {% endif %}
        <h2 class="akr-title">{{ section.settings.main_title }}</h2>
    </div>

    <div class="akr-blue-box">
        {% for block in section.blocks %}
            {% case block.type %}
                {% when 'text' %}
                    <div class="akr-column">
                        <h3>{{ block.settings.title_text }}</h3>
                        <div class="akr-richtext">{{ block.settings.text_content }}</div>
                        {% if block.settings.button_text and block.settings.button_link %}
                            <a href="{{ block.settings.button_link }}" class="akr-cta-link">
                                {{ block.settings.button_text }}
                                <div class="akr-svg-box"></div>
                            </a>
                        {% endif %}
                    </div>
                {% when 'information' %}
                    <div class="akr-column akr-info">
                        <div class="akr-richtext">{{ block.settings.info_content }}</div>
                    </div>
                {% when 'image' %}
                    <div class="akr-column akr-image-column">
                        {% if block.settings.column_image %}
                            <img src="{{ block.settings.column_image | img_url: '1024x1024' }}" alt="Column Image">
                        {% endif %}
                    </div>
            {% endcase %}
        {% endfor %}
    </div>
</div>

<style>
    * {
        box-sizing: border-box;
    }
    body, html {
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #fff;
        overflow-x: hidden;
    }

    .akr-container {
        padding: 50px;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-size: cover;
        background-position: center;
    }

    .akr-title-container {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        width: 100%;
    flex-direction: column;
    }

    .akr-top-left-image img {
        width: 50px;
        height: 50px;
    }

    .akr-title {
        font-size: 3rem;
        font-weight: 700;
        margin: 0;
    }

    .akr-blue-box {
        display: flex;
        justify-content: space-between;
        background-color: #0078FF;
        border-radius: 15px;
        padding: 20px;
        max-width: 1600px;
        margin-top: 30px;
        width: 100%;
        color: #fff;
    }

    .akr-column {
    flex: 1;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: space-between;
    }

    .akr-column h3 {
        font-size: 2.5rem;
        margin: 0px;
        color: white;
    }

    .akr-column p {
      margin: 0:
    }

.akr-cta-link {
    display: inline-block;
    padding: 10px 20px;
    background-color: #333;
    color: #fff;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background 0.3s;
    margin-top: 2rem !important;
    font-size: 1.5rem;
}

    .akr-cta-link:hover {
        background-color: #0056cc;
    }

    .akr-svg-box {
        display: inline-block;
        margin-left: 5px;
        background-color: #fff;
        width: 20px;
        height: 20px;
    }

    .akr-image-column img {
        width: 100%;
        border-radius: 10px;
        max-width: 300px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .akr-title {
            font-size: 2rem;
        }
        .akr-blue-box {
            flex-direction: column;
            align-items: center;
        }
    }
  .akr-image-column img {
  width: 100%;
  border-radius: 10px;
  max-width: 300px;
  transform: scale(1.5);
  bottom: 4.5em;
  right: 10rem;
  position: absolute;
}
.akr-column {
  position: relative;
}
.akr-blue-box {
  overflow-x: clip;
}
@media screen and (max-width: 768px) {
  .akr-container {
    padding: 2rem;
  }
  .akr-info {
    width: 100%;
    text-align: left;
  }
  .akr-image-column {
    display: none;
  }
  .akr-container {
    padding-top: 0rem !important;
  }
}
.akr-container {
  object-fit: cover;
  padding-top: 12rem;
}
</style>
